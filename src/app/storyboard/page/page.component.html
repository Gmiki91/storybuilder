<div *ngIf="page">
    <form #storyForm="ngForm" *ngIf="page.status==0">
        <p>You arrived at an empty page. Write!</p>
        <textarea class="story" rows="4" cols="50" id="content" name="content" ngModel required> </textarea>
        <br>
        <label>Routes:</label>
        <br>
        <div  *ngFor="let route of routes.controls;  index as i">
            <input [formControl]="routes.controls[i]" required  >
        </div>
        <button [disabled]="this.routes.controls.length>4 || routesNotFilled()" (click)="onAddRoute()">Add route</button>
        <button [disabled]="routes.controls.length<3"(click)="onRemoveRoute()">Remove route</button>
        <button [disabled]="!storyForm.form.valid || routesNotFilled()" (click)="onPublish(storyForm)">Publish</button>
        <br>
    </form>

    <div *ngIf="page.status!=0">
        <p class="story">{{page.content}}</p>
        <p>Author: {{page.author.name}}</p>
        <button *ngIf="!voted" (click)="onLike()">Like</button>
        <button *ngIf="voted" (click)="onUnlike()">Unlike</button>
        <button *ngFor="let route of routes2" (click)="onRoute(routes2.indexOf(route))">{{route}}</button>
    </div>
</div>